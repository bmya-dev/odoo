<?xml version="1.0" encoding="utf-8"?>
<odoo>

<template id="_assets_primary_variables" inherit_id="web._assets_primary_variables">
    <xpath expr="//link[last()]" position="after">
        <link rel="stylesheet" type="text/scss" href="/website_blog/static/src/scss/primary_variables.scss"/>
    </xpath>
</template>

<template id="assets_editor" inherit_id="website.assets_editor" name="Blog Editor">
    <xpath expr="." position="inside">
        <script type="text/javascript" src="/website_blog/static/src/js/website_blog.editor.js"></script>
        <script type="text/javascript" src="/website_blog/static/src/js/s_latest_posts_editor.js"/>
        <script type="text/javascript" src="/website_blog/static/src/js/website.tour.blog.js"></script>
    </xpath>
</template>

<template id="assets_frontend" inherit_id="website.assets_frontend" name="Blog Front-end assets">
    <xpath expr="." position="inside">
        <link rel="stylesheet" type="text/scss" href="/website_blog/static/src/scss/website_blog.scss"/>

        <script type="text/javascript" src="/website_blog/static/src/js/contentshare.js"/>
        <script type="text/javascript" src="/website_blog/static/src/js/website_blog.js"/>
        <script type="text/javascript" src="/website_blog/static/src/js/s_latest_posts_frontend.js"/>
    </xpath>
</template>


<!-- ======   Overall page layout   ============================================
============================================================================ -->
<template id="index" name="Blog Navigation">
    <t t-call="website.layout">
        <div id="wrap" class="js_blog website_blog">
            <t t-raw="0"/>
        </div>
    </t>
</template>

<!-- ======  Blog Index : Displaying a list of Blog Posts =====================
◉  Option: Hide Blogs Nav
◉  Option: Show Sidebar
    ⌙ Show About Us
    ⌙ Show Archives
    ⌙ Show Follow Us
    ⌙ Show Tags List
◉  Option: Top banner - Use last post
    ⌙ Show author
◉  Option: Use card design
============================================================================ -->
<template id="blog_post_short" name="Blog Posts">
    <t t-call="website_blog.index">

        <t t-set="opt_blog_cards_design" t-value="False"/>
        <t t-set="opt_blog_list_view" t-value="False"/>
        <t t-set="opt_blog_sidebar_show" t-value="False"/>

        <t t-set="head" t-if="blog">
            <link t-att-href="'/blog/%s/feed' % (blog.id)" type="application/atom+xml" rel="alternate" title="Atom Feed"/>
            <meta t-if="len(active_tag_ids) > 0" name="robots" t-attf-content="#{len(active_tag_ids) > 1 and 'noindex,'} nofollow"/>
        </t>
        <div class="oe_structure" id="oe_structure_website_blog_post_short_1"/>

        <t name="o_wblog_blog_top">
            <section t-if="blog" class="oe_structure">
                <div class="container py-4">
                    <h1 class="display-4" t-field="blog.name"/>
                    <h4 t-field="blog.subtitle"/>
                </div>
            </section>

            <section t-elif="blogs" id="o_wblog_blog_cover_default" class="container-fluid bg-200">
                <div class="alert alert-info alert-dismissable mt16 w-lg-75 mx-auto" groups="website.group_website_publisher" role="status">
                   <button type="button" class="close" data-dismiss="alert" aria-label="Close">&amp;times;</button>
                   <h4 class="alert-heading">This page is great to improve your <strong>Search Engine Optimization</strong></h4>
                   <p>
                       You can review titles, keywords and descriptions of all blogs at once.<br/>
                       You should <strong>add a banner on the top</strong> as it is a frequent landing page for new visitors.
                   </p>
                   <div class="font-italic font-weight-bold">- This box will not be visible to your visitors -</div>
                </div>
            </section>
        </t>

        <section id="o_wblog_index_content" t-attf-class="#{'o_wblog_page_cards_bg' if opt_blog_cards_design else ''}">
            <div class="container">
                <div t-attf-class="row #{'justify-content-between' if opt_blog_sidebar_show else 'justify-content-center'}">
                    <div id="o_wblog_blog_posts_container" t-attf-class="col py-4 #{'o_wblog_read_width' if opt_blog_list_view else ''}">

                        <t t-call="website_blog.posts_list">
                            <t t-if="not blog" t-set="posts_list_show_parent_blog" t-value="True"/>
                        </t>

                        <t t-call="website.pager" >
                            <t t-set="classname">justify-content-center</t>
                        </t>
                    </div>
                </div>
            </div>
        </section>

        <div class="oe_structure" id="oe_structure_website_blog_post_short_2"/>
    </t>
</template>

<!--   ◉  Option: Blog: Sidebar : Show -->
<template id="opt_blog_sidebar_show" name="Show Sidebar" inherit_id="website_blog.blog_post_short" active="False" customize_show="True">
    <xpath expr="//t[@t-set='opt_blog_sidebar_show']" position="replace">
        <t t-set="opt_blog_sidebar_show" t-value="True"/>
    </xpath>

    <xpath expr="//div[@id='o_wblog_blog_posts_container']" position="after">
        <div class="col-12 col-sm-12 col-md-3 py-4">
            <t t-call="website_blog.sidebar_blog_single"/>
        </div>
    </xpath>
</template>

<!--   ◉  Option: Blog: Show latest-post as top banner  -->
<template id="opt_blog_cover_post" name="Top banner - Use Last post" inherit_id="website_blog.blog_post_short" active="False" customize_show="True">
    <xpath expr="//t[@name='o_wblog_blog_top']" position="replace">

        <!-- In the general post list, exclude the first post since it will be shown here -->
        <t t-set="posts_list_exclude_first" t-value="True"/>

        <t t-foreach="blog_posts" t-as="blog_post" t-if="blog_post_index == 0">
            <t t-set="cover_properties" t-value="blog_posts_cover_properties[blog_post_index]"/>

            <t t-call="website_blog.blog_cover">
                <t t-set="cover_properties" t-value="blog_posts_cover_properties[blog_post_index]"/>
                <t t-set="additionnal_classes" t-value="'o_wblog_blog_top_cover d-flex align-items-center py-4 '"/>
                <t t-set="use_filters" t-value="True"/>

                <div class="container h-100">
                    <div class="row">
                        <div class="col-12 col-sm text-center text-sm-left d-flex align-items-center">
                            <div class="pr-md-5 w-100">
                                <t t-if="blog">
                                    <h1 class="text-white display-4" t-field="blog.name"/>
                                    <h3 class="text-white" t-field="blog.subtitle"/>
                                </t>
                                <t t-else="">
                                    <h1 class="text-white display-4">Welcome</h1>
                                </t>
                            </div>
                        </div>

                        <div class="col-12 col-md-6 col-lg-5">
                            <div class="bg-white rounded-sm overflow-hidden">
                                <div class="d-flex justify-content-end">
                                    <span t-if="blog" class="bg-warning small py-1 px-2"><b>Latest</b></span>
                                </div>
                                <div class="px-3 pb-3 pt-2">
                                    <h4 t-field="blog_post.name" id="blog_post_name" t-att-data-blog-id="blog_post.id" placeholder="Blog Post Title"/>
                                    <p t-field="blog_post.subtitle" placeholder="Subtitle"/>
                                    <div class="d-flex justify-content-between">
                                        <div t-if="not blog" class="small text-nowrap text-truncate font-weight-bold">
                                            <i class="fa fa-folder-open text-muted"/> <small class="font-weight-bold">in</small>
                                            <a t-attf-href="#{blog_url(blog=blog_post.blog_id)}" t-field="blog_post.blog_id"/>
                                        </div>
                                        <a t-attf-href="/blog/#{slug(blog_post.blog_id)}/post/#{slug(blog_post)}" class="btn btn-primary">Read more</a>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </t>
        </t>
    </xpath>
</template>

<!--   ◉  Option: Blog: Top Banner: Show author -->
<template id="opt_blog_cover_post_show_author" name="Show author" inherit_id="website_blog.opt_blog_cover_post" active="False" customize_show="True">
    <xpath expr="//*[@id='blog_post_name']" position="before">
        <t t-call="website_blog.post_author">
            <t t-set="additionnal_classes" t-value="'mb-3'"/>
        </t>
    </xpath>
</template>

<!--   ◉  Option: Blog: Blogs Nav : Show -->
<template id="opt_blog_blogs_nav_hide" name="Blogs Navigation" inherit_id="website_blog.blog_post_short" active="True" customize_show="True">
    <xpath expr="//section[@id='o_wblog_index_content']" position="before">
        <t t-call="website_blog.blogs_nav"/>
    </xpath>
</template>

<!--   ◉  Option: Blog: Posts List: Cards design -->
<template id="opt_blog_cards_design" name="Use 'cards' design" inherit_id="website_blog.blog_post_short" active="False" customize_show="True">
    <xpath expr="//t[@t-set='opt_blog_cards_design']" position="replace">
        <t t-set="opt_blog_cards_design" t-value="true"/>
    </xpath>
</template>

<!--   ◉  Option: Blog: Show Posts as List : Enable -->
<template id="opt_blog_list_view" name="Show Posts as List" inherit_id="website_blog.blog_post_short" active="False" customize_show="True">
    <xpath expr="//t[@t-set='opt_blog_list_view']" position="replace">
        <t t-set="opt_blog_list_view" t-value="True"/>
    </xpath>
</template>


<!-- ====== Blog Post Complete =================================================
============================================================================ -->
<template id="website_blog.blog_post_complete" name="Blog Post">
    <t t-call="website_blog.index">

        <t t-set="opt_blog_post_sidebar" t-value="False"/>


        <section id="o_wblog_post_top">
            <div class="container">
                <div class="oe_structure"/>
            </div>

            <div id="title" class="blog_header" t-ignore="True">
                <t t-call="website_blog.blog_cover">
                    <t t-set="cover_properties" t-value="blog_post_cover_properties"/>
                    <t t-set="use_filters" t-value="True"/>
                    <t t-set="use_size" t-value="True"/>
                    <t t-set="optional_cla" t-value="True"/>

                    <div class="container text-center blog_title position-relative h-100 d-flex flex-column justify-content-around">
                        <div>
                            <h1 t-field="blog_post.name" id="blog_post_name" t-att-data-blog-id="blog_post.id" placeholder="Blog Post Title" class="text-white"/>
                            <h4 t-field="blog_post.subtitle" placeholder="Subtitle" class="text-white"/>
                            <p class="post-meta text-muted text-center" name="blog_post_data"/>
                        </div>
                        <div t-if="'cover_full' in blog_post_cover_properties.get('resize_class', '')" class="d-flex justify-content-center align-items-center rounded-circle d-flex mx-auto" id="blog_angle_down">
                            <a href="#o_wblog_post_content" class="fa fa-angle-down fa-3x text-white" aria-label="To blog content" title="To blog content"/>
                        </div>
                    </div>
                </t>
            </div>

            <div class="container">
                <div class="oe_structure"/>
            </div>
        </section>

        <t t-set="readableSize" t-if="opt_blog_post_readable and opt_blog_post_sidebar" t-value="' o_wblog_read_container_sidebar_active'"/>
        <t t-set="readableSize" t-elif="opt_blog_post_readable" t-value="' o_wblog_read_width'"/>
        <t t-set="readableSize" t-else="" t-value="' container'"/>

        <section id="o_wblog_post_main" class="container pt-4 pb-5">
            <div t-att-class="'mx-auto' + readableSize">
                <div t-attf-class="d-flex flex-column flex-lg-row #{'justify-content-between' if opt_blog_post_readable and opt_blog_post_sidebar else ''}">
                    <div t-if="opt_blog_post_sidebar" id="o_wblog_post_sidebar_col" class="flex-grow-1 order-lg-2 pl-lg-5">
                        <t t-call="website_blog.blog_post_sidebar"/>
                    </div>

                    <div id="o_wblog_post_content" t-attf-class="order-lg-1 #{'o_wblog_read_width w-100 flex-shrink-0' if opt_blog_post_readable else ''}">
                        <t t-if="opt_blog_post_breadcrumb and not opt_blog_post_regular_cover" t-call="website_blog.post_breadcrumbs">
                            <t t-set="additionnal_classes" t-value="'mb-3 bg-transparent'"></t>
                        </t>
                        <div t-field="blog_post.content" class="o_wblog_post_content_field"/>
                    </div>
                </div>
            </div>
        </section>

        <section id="o_wblog_post_footer"/>
    </t>
</template>

<!--   ◉  Option: Post: Increase readability -->
<template id="opt_blog_post_readable" name="Increase readability" inherit_id="website_blog.blog_post_complete" active="True" customize_show="True">
    <xpath expr="//section[@id='o_wblog_post_top']" position="before">
        <t t-set="opt_blog_post_readable" t-value="True"/>
    </xpath>
</template>

<!--   ◉  Option: Post: Show Sidebar -->
<template id="opt_blog_post_sidebar" name="Show Sidebar" inherit_id="website_blog.blog_post_complete" active="False" customize_show="True">
    <xpath expr="//section[@id='o_wblog_post_top']" position="before">
        <t t-set="opt_blog_post_sidebar" t-value="True"/>
    </xpath>
</template>

<!--   ◉  Option: Post: Regular Cover -->
<template id="opt_blog_post_regular_cover" name="'Regular' Cover" inherit_id="website_blog.blog_post_complete" active="False" customize_show="True">
    <xpath expr="//section[@id='o_wblog_post_top']" position="before">
        <t t-set="opt_blog_post_regular_cover" t-value="True"/>
    </xpath>

    <xpath expr="//div[@id='title']" position="replace">
        <t t-set="readableSize" t-if="opt_blog_post_readable and opt_blog_post_sidebar" t-value="'o_wblog_read_container_sidebar_active mx-auto'"/>
        <t t-set="readableSize" t-elif="opt_blog_post_readable" t-value="'o_wblog_read_width mx-auto'"/>
        <t t-set="readableSize" t-else="" t-value="'container'"/>

        <div id="title" t-attf-class="blog_header o_wblog_regular_cover_container #{readableSize}">

            <t t-if="opt_blog_post_breadcrumb" t-call="website_blog.post_breadcrumbs">
                <t t-set="additionnal_classes" t-value="'mt-4 mb-3 bg-transparent'"></t>
            </t>

            <div t-attf-class="blog_title #{'pt-4' if not opt_blog_post_breadcrumb else ''}">
                <h1 t-field="blog_post.name" id="blog_post_name" t-att-data-blog-id="blog_post.id" placeholder="Blog Post Title"/>
                <h4 t-field="blog_post.subtitle" placeholder="Subtitle"/>
                <p class="text-muted">
                    <i class="fa fa-clock-o fa-fw"/>
                    <span t-field="blog_post.post_date" class="text-muted" t-options='{"format": "d MMMM, yyyy"}'/>
                    <span t-if="len(blog_post.message_ids) > 0" class="text-nowrap pl-2">|
                        <i class="fa fa-comment text-muted mr-1"/><t t-esc="len(blog_post.message_ids)"/>
                        <t t-if="len(blog_post.message_ids)>1">Comments</t>
                        <t t-else="">Comment</t>
                    </span>
                    <span t-elif="opt_blog_post_comment">| No comments yet</span>
                </p>
                <p class="post-meta text-muted text-center" name="blog_post_data"/>
            </div>

            <t t-call="website_blog.blog_cover">
                <t t-set="cover_properties" t-value="blog_post_cover_properties"/>
                <t t-set="additionnal_classes" t-value="''"/>
            </t>
        </div>
    </xpath>
</template>



<!--   ◉  Option: Post: Breadcrumb -->
<template id="opt_blog_post_breadcrumb" name="Show Breadcrumbs" inherit_id="website_blog.blog_post_complete" active="False" customize_show="True">
    <xpath expr="//section[@id='o_wblog_post_top']" position="before">
        <t t-set="opt_blog_post_breadcrumb" t-value="True"/>
    </xpath>
</template>


<!-- ====== Blog Post Sidebar =================================================
============================================================================ -->
<template id="website_blog.blog_post_sidebar" name="Sidebar - Blog Post">
    <div id="o_wblog_post_sidebar">
        <div class="oe_structure"/>
        <div groups="website.group_website_designer" class="mb-3 bg-100 py-2 px-3 border">
            <h5>This sidebar is empty :)</h5>
            <p>Use the <b>"Customize Menu"</b> to add dynamic content like the post's author or the tags list.</p>
            <p>You may also drag&amp;drop snippets here, the will be visible in any other bglo post too</p>
            <small class="text-right">This box will not be visible to your visitors</small>
        </div>
        <div class="oe_structure"/>
    </div>
</template>


<!--   ◉  Option: Post: Share Links Display -->
<template id="opt_blog_post_share_links_display" name="Share Links" inherit_id="website_blog.blog_post_sidebar" active="True" customize_show="True" priority="2">
    <xpath expr="//div[@groups='website.group_website_designer']" position="attributes">
        <attribute name="class" add="d-none" separator=" "/>
    </xpath>

    <xpath expr="//div[@id='o_wblog_post_sidebar']" position="inside">
        <t t-call="website_blog.social_links_list">
            <t t-set="additionnal_classes" t-value="'mb-3 h4 d-flex justify-content-between'"/>
        </t>
        <div class="oe_structure"/>
    </xpath>
</template>

<!--   ◉  Option: Post: Author avatar -->
<template id="opt_blog_post_author_avatar_display" name="Author" inherit_id="website_blog.blog_post_sidebar" active="True" customize_show="True" priority="1">
    <xpath expr="//div[@groups='website.group_website_designer']" position="attributes">
        <attribute name="class" add="d-none" separator=" "/>
    </xpath>
    <xpath expr="//div[@id='o_wblog_post_sidebar']" position="inside">
        <t t-call="website_blog.post_author">
            <t t-set="additionnal_classes" t-value="'h5 mb-4'"/>
        </t>
        <div class="oe_structure"/>
    </xpath>
</template>

<!--   ◉  Option: Post: display tags -->
<template id="opt_blog_post_tags_display" name="Tags" inherit_id="website_blog.blog_post_sidebar" active="True" customize_show="True" priority="3">
    <xpath expr="//div[@groups='website.group_website_designer']" position="attributes">
        <attribute name="class" add="d-none" separator=" "/>
    </xpath>
    <xpath expr="//div[@id='o_wblog_post_sidebar']" position="inside">
        <div t-if="blog_post.tag_ids" class="mb-3">
            <t t-foreach="blog_post.tag_ids" t-as="one_tag">
                <a class="badge badge-primary" t-attf-href="#{blog_url(tag=one_tag.id)}" t-esc="one_tag.name"/>
            </t>
        </div>
        <div t-else="" groups="website.group_website_designer" class="mb-3 bg-100 py-2 px-3 border">
            <h6 class="text-muted"><em>No tags definied</em></h6>
            <a role="menuitem" t-attf-href="/web#return_label=Website&amp;view_type=form&amp;model=#{main_object._name}&amp;id=#{main_object.id}&amp;action=#{action}&amp;menu_id=#{menu or main_object.env.ref('website.menu_website_configuration').id}"
                    title='Edit in backend' id="edit-in-backend">Add some</a>
        </div>
        <div class="oe_structure"/>
    </xpath>
</template>

<!--   ◉  Options: Blog Post: user can reply -->
<template id="opt_blog_post_comment" name="Allow comments" inherit_id="website_blog.blog_post_complete" active="False" customize_show="True">
    <xpath expr="//section[@id='o_wblog_post_top']" position="before">
        <t t-set="opt_blog_post_comment" t-value="True"/>
    </xpath>
    <xpath expr="//div[@id='o_wblog_post_content']" position="inside">
        <section id="o_wblog_post_comments" class="mx-auto pt-4">
            <div groups="base.group_public" class="small mb-4">
                <a href="/web/login" class="btn btn-sm btn-primary"><b>Sign in</b></a> to leave a comment
            </div>
            <t t-call="portal.message_thread">
                <t t-set="object" t-value="blog_post"/>
            </t>
        </section>
    </xpath>
</template>

<!-- Options: Blog Post : Read Next Article  -->
<!-- <template id="opt_blog_post_read_next" name="Read next article"
        inherit_id="website_blog.blog_post" active="True" customize_show="True">
    <xpath expr="//section[@id='o_wblog_post_footer']" position="inside">
        <t t-if="next_post">
            <t t-call="website_blog.blog_cover">
                <t t-set="cover_properties" t-value="next_post_cover_properties"/>
                <t t-set="additionnal_classes" t-value="'cover_footer'"/>

                <div class="blog_title">
                    <a class="d-none js_next" t-attf-href="/blog/#{ slug(next_post.blog_id) }/post/#{ slug(next_post) }/#wrap"/>
                    <h1 t-field="next_post.name" placeholder="Blog Post Title"/>
                    <h2 t-field="next_post.subtitle" placeholder="Subtitle"/>
                    <div>
                        <t t-if="next_post.author_avatar">
                            <span t-field="next_post.author_avatar" t-options='{"widget": "image", "class": "rounded-circle", "style":"width: 30px; margin-right: 10px; display:inline"}' />
                        </t>
                        <span t-field="next_post.author_id" style="display: inline-block;" t-options='{
                            "widget": "contact",
                            "fields": ["name"]
                        }'/>
                    </div>
                    <p class="mt32">Read Next <span class="fa fa-long-arrow-right"/></p>
                </div>
            </t>
        </t>
    </xpath>
</template> -->

<!-- <template id="opt_blog_post_select_to_tweet" name="Select to Tweet"
        inherit_id="website_blog.blog_post" active="False" customize_show="True">
    <xpath expr="//div[@id='o_wblog_post_content']" position="attributes">
        <attribute name="class" add="js_tweet" separator=" "/>
    </xpath>
    <xpath expr="//div[@id='title']//div[hasclass('blog_title')]" position="attributes">
        <attribute name="class" add="js_tweet" separator=" "/>
    </xpath>
</template>

<template id="opt_blog_post_select_to_comment" name="Select to comment"
        inherit_id="website_blog.opt_blog_post_comment" customize_show="False">
    <xpath expr="//div[@id='o_wblog_post_content']" position="attributes">
        <attribute name="class" add="js_comment" separator=" "/>
    </xpath>
    <xpath expr="//div[@id='title']//div[hasclass('blog_title')]" position="attributes">
        <attribute name="class" add="js_comment" separator=" "/>
    </xpath>
</template> -->


<template id="blog_edit_options" inherit_id="website.user_navbar" name="Edit Blog Options">
    <xpath expr="//a[@id='edit-in-backend']" position="after">
        <t groups="website.group_website_designer" t-if="main_object._name == 'blog.post'">
            <form class="duplicate d-none" action="/blog/post_duplicate" method="POST">
                <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                <input name="blog_post_id" t-att-value="blog_post.id if blog_post else None"/>
            </form>
            <a href="#" class="duplicate dropdown-item" onclick="$(this).prev('form').submit()">Duplicate</a>
        </t>
    </xpath>
</template>
<!-- Option:Right Column for extra info -->

<!-- <template id="index_right" name="Right Column"
        inherit_id="website_blog.blog_post_short">
    <xpath expr="//div[@id='main_column']" position="after">
        <div class="col-xl-3 col-lg-4" id="blog_right_column"/>
    </xpath>
</template> -->

<!-- Option:Right Column: tags -->

<template id="tag_category" name="Tags List">
    <t t-if="tags">
        <div t-if='not hide_title' class='text-muted mt8'><i class='fa fa-tag' role="img" aria-label="Tag category" title="Tag category"/> <t t-esc='categ_title' /></div>
        <t t-foreach="tags" t-as="tag">
            <t t-if="tag.post_ids">
                <a t-attf-href="#{blog_url(tag=tags_list(active_tag_ids, tag.id))}"
                    t-attf-class="badge #{tag.id in active_tag_ids and 'badge-primary' or 'badge-secondary'}">
                    <span t-field="tag.name"/>
                </a>
            </t>
        </t>
    </t>
</template>

<!-- <template id="opt_blog_rc_tags" name="Tags"
        inherit_id="website_blog.index_right" active="True" customize_show="True">
    <xpath expr="//div[@id='main_column']" position="attributes">
        <attribute name="class">col</attribute>
    </xpath>
    <xpath expr="//div[@id='blog_right_column']" position="inside">
        <div class="card mb-3 bg-secondary">
            <h6 class="card-header">Tags</h6>
            <div class="card-body">
                <t t-foreach="tag_category" t-as="nav_tag_category">
                    <t t-call="website_blog.tag_category">
                        <t t-set='categ_title' t-value="nav_tag_category.name"/>
                        <t t-set='tags' t-value='nav_tag_category.tag_ids' />
                    </t>
                </t>
                <t t-call="website_blog.tag_category">
                    <t t-set='hide_title' t-value='not len(tag_category)' />
                    <t t-set='categ_title'>Others</t>
                    <t t-set='tags' t-value='other_tags' />
                </t>
            </div>
        </div>
    </xpath>
</template> -->

<!-- Option:Right Column: archives -->
<!-- <template id="opt_blog_rc_history" name="Archives"
        inherit_id="website_blog.index_right" active="True" customize_show="True">
    <xpath expr="//div[@id='main_column']" position="attributes">
        <attribute name="class">col</attribute>
    </xpath>
    <xpath expr="//div[@id='blog_right_column']" position="inside">
        <div class="card mb-3 bg-secondary">
            <h6 class="card-header">Archives</h6>
            <div class="card-body">
                <ul class="nav nav-pills flex-column">
                    <t t-foreach="nav_list" t-as="year">
                        <li data-toggle="collapse" t-att-data-target="'#b_' + year" aria-expanded="false" class="nav-item blog_post_year_collapse mt8">
                            <i t-attf-class="fa #{'fa-chevron-down' if not date and year_index == 0 else 'fa-chevron-right'} mr4" role="img" aria-label="Next year" title="Next year"/><span t-esc="year"/>
                        </li>
                        <ul t-attf-class="blog_post_year collapse nav nav-pills flex-column #{not date and year_index == 0 and 'in'}" t-att-id="'b_' + year" role="menu">
                            <t t-foreach="nav_list[year]" t-as="months">
                                <li t-if="months['date_begin'] == date" class="nav-item">
                                    <a role="menuitem" t-ignore="True" t-attf-href="#{blog_url(date_begin=False, date_end=False)}" class="nav-link active"><t t-esc="months['month']"/><span class="float-right badge badge-pill" t-esc="months['post_date_count']"/></a>
                                </li>
                                <li t-else="1" class="nav-item">
                                    <a role="menuitem" t-ignore="True" t-attf-href="#{blog_url(date_begin=months['date_begin'], date_end=months['date_end'])}" class="nav-link"><t t-esc="months['month']"/><span class="float-right badge badge-pill" t-esc="months['post_date_count']"/></a>
                                </li>
                            </t>
                        </ul>
                    </t>
                </ul>
            </div>
        </div>
    </xpath>
</template> -->

<!-- Option:Right Column: about us -->
<!-- <template id="opt_blog_rc_about_us" name="About Us" priority="8"
        inherit_id="website_blog.index_right" active="True" customize_show="True">
    <xpath expr="//div[@id='main_column']" position="attributes">
        <attribute name="class">col</attribute>
    </xpath>
    <xpath expr="//div[@id='blog_right_column']" position="inside">
        <div class="card mb-3 bg-secondary">
            <h6 class="card-header">About us</h6>
            <div class="card-body">
                Write a small text here for when <b>new visitors</b> find your website
                through your <b>blog entries</b>, referenced in Google.
            </div>
        </div>
    </xpath>
</template> -->

<!-- Option:Right Column: follow us -->
<!-- <template id="opt_blog_rc_follow_us" name="Subscription" priority="12"
        inherit_id="website_blog.index_right" active="True" customize_show="True">
    <xpath expr="//div[@id='main_column']" position="attributes">
        <attribute name="class">col</attribute>
    </xpath>
    <xpath expr="//div[@id='blog_right_column']" position="inside">
        <div class="card mb-3 bg-secondary">
            <h6 class="card-header">Stay updated</h6>
            <div class="card-body">
                <p class="h6">Participate on our social stream.</p>
                <div class="h5">
                    <a t-if="website.social_facebook" t-att-href="website.social_facebook" class="fa fa-lg fa-facebook-square text-facebook" aria-label="Facebook" title="Facebook"/>
                    <a t-if="website.social_twitter" t-att-href="website.social_twitter" class="fa fa-lg fa-twitter text-twitter" aria-label="Twitter" title="Twitter"/>
                    <a t-if="website.social_linkedin" t-att-href="website.social_linkedin" class="fa fa-lg fa-linkedin text-linkedin" aria-label="LinkedIn" title="LinkedIn"/>
                    <a t-if="website.social_youtube" t-att-href="website.social_youtube" class="fa fa-lg fa-youtube-play text-youtube" aria-label="Youtube" title="Youtube"/>
                    <a t-if="website.social_googleplus" t-att-href="website.social_googleplus" class="fa fa-lg fa-google-plus-square text-google-plus" aria-label="Google Plus" title="Google Plus"/>
                    <a t-if="website.social_github" t-att-href="website.social_github" class="fa fa-lg fa-github text-github" aria-label="Github" title="Github"/>
                    <a t-if="website.social_instagram" t-att-href="website.social_instagram" class="fa fa-lg fa-instagram text-instagram" aria-label="Instagram" title="Instagram"/>
                    <a t-att-href="'/blog/%s/feed' % (blog.id)" class="fa fa-lg fa-rss-square" aria-label="RSS" title="RSS"/>
                </div>
                <hr/>
                <t t-if="blog">
                    <t t-call="website_mail.follow">
                        <t t-set="email" t-value="user_id.email"/>
                        <t t-set="object" t-value="blog"/>
                        <t t-set="div_class" t-value="'mx-auto'"/>
                    </t>
                </t>
            </div>
        </div>
    </xpath>
</template> -->

<!-- Option:Right Column: status -->
<!-- <template id="opt_blog_rc_status" name="Status" priority="2"
        inherit_id="website_blog.index_right" active="True" customize_show="True">
    <xpath expr="//div[@id='main_column']" position="attributes">
        <attribute name="class">col</attribute>
    </xpath>
    <xpath expr="//div[@id='blog_right_column']" position="inside">
        <div class="mb-3" groups="website.group_website_designer">
            <h3 class="h4">Status</h3>
            <ul class="nav nav-pills flex-column">
                <t t-set="state" t-value="state_info['state']"/>
                <li class="nav-item">
                    <a t-attf-class="nav-link #{state == 'published' and 'active' or ''}"
                        t-attf-href="#{state == 'published' and blog_url(state='') or blog_url(state='published')}">
                        <i class="fa fa-eye mr-2"></i>
                        <strong><span t-esc="state_info['published']" /></strong> published
                    </a>
                </li>
                <li class="nav-item">
                    <a t-attf-class="nav-link #{state == 'unpublished' and 'active' or ''}"
                        t-attf-href="#{state == 'unpublished' and blog_url(state='') or blog_url(state='unpublished')}">
                        <i class="fa fa-edit mr-2"></i>
                        <strong><span t-esc="state_info['unpublished']" /></strong> unpublished
                    </a>
                </li>
            </ul>
        </div>
    </xpath>
</template> -->

<!-- Option:Right Column: blogs -->
<!-- <template id="opt_blog_rc_blogs" name="Our Blogs" priority="4"
        inherit_id="website_blog.index_right" active="True" customize_show="True">
    <xpath expr="//div[@id='main_column']" position="attributes">
        <attribute name="class">col</attribute>
    </xpath>
    <xpath expr="//div[@id='blog_right_column']" position="inside">
        <div class="mb-3">
            <h3 class="h4">Our Blogs</h3>
            <ul class="nav nav-pills flex-column">
                <t t-foreach="blogs" t-as="nav_blog">
                    <li class="nav-item">
                        <a t-attf-href="#{blog_url(blog=nav_blog, tag=False, date_begin=False, date_end=False)}"
                            t-attf-class="nav-link #{nav_blog.id == blog.id and 'active' or ''}">
                            <span t-field="nav_blog.name"/>
                        </a>
                    </li>
                </t>
            </ul>
        </div>
    </xpath>
</template> -->

<!-- User Navbar -->
<template id="user_navbar_inherit_website_blog" inherit_id="website.user_navbar">
    <xpath expr="//div[@id='o_new_content_menu_choices']//div[@name='module_website_blog']" position="attributes">
        <attribute name="name"/>
        <attribute name="t-att-data-module-id"/>
        <attribute name="t-att-data-module-shortdesc"/>
        <attribute name="groups">website.group_website_designer</attribute>
    </xpath>
</template>

<!-- Atom Feed -->
<template id="blog_feed">&lt;?xml version="1.0" encoding="utf-8"?&gt;
<feed t-att-xmlns="'http://www.w3.org/2005/Atom'">
    <title t-esc="blog.name"/>
    <link t-att-href="'%s/blog/%s' % (base_url ,blog.id)"/>
    <id t-esc="'%s/blog/%s' % (base_url, blog.id)"/>
    <updated t-esc="str((posts[0] if posts else blog).post_date).replace(' ', 'T') + 'Z'"/>
    <entry t-foreach="posts" t-as="post">
        <title t-esc="post.name"/>
        <link t-att-href="'%s%s' % (base_url, post.website_url)"/>
        <id t-esc="'%s%s' % (base_url, post.website_url)"/>
        <author><name t-esc="post.sudo().author_id.name"/></author>
        <summary t-esc="html2plaintext(post.teaser)"/>
        <updated t-esc="str(post.post_date).replace(' ', 'T') + 'Z'"/>
    </entry>
</feed>
</template>

<!-- Chatter templates -->
<template id="blog_post_template_new_post">
    <p>A new post <t t-esc="post.name" /> has been published on the <t t-esc="object.name" /> blog. Click here to access the blog :</p>
    <p style="margin-left: 30px; margin-top: 10 px; margin-bottom: 10px;">
        <a href="/blog/#{slug(object)}/post/#{slug(post)}"
            style="padding: 5px 10px; font-size: 12px; line-height: 18px; color: #FFFFFF; border-color:#875A7B; text-decoration: none; display: inline-block; margin-bottom: 0px; font-weight: 400; text-align: center; vertical-align: middle; cursor: pointer;background-color: #875A7B; border: 1px solid #875A7B; border-radius:3px">
            Access post
        </a>
    </p>
</template>

<template id="s_latest_posts" name="Latest Posts - List">
    <section class="s_latest_posts">
        <div class="container">
            <h2 class="text-center">Latest Posts</h2>
            <div class="row js_get_posts"
                data-loading="true"
                data-template="website_blog.s_latest_posts_list_template"/>
        </div>
    </section>
</template>

<template id="s_latest_posts_big_picture" name="Latest Posts - Big Images">
    <section class="s_latest_posts_big_picture">
        <div class="container-fluid">
            <h2 class="text-center">Latest Posts</h2>
            <div class="row js_get_posts"
                data-loading="true"
                data-template="website_blog.s_latest_posts_big_picture_template"/>
        </div>
    </section>
</template>

<template id="s_latest_posts_list_template">
    <t t-foreach="posts" t-as="p">
        <t t-set="properties" t-value="json.loads(p.cover_properties)"/>
        <div class="col-12 media mt-3 s_latest_posts_post">
            <a t-attf-href="/blog/#{p.blog_id.id}/post/#{p.id}">
                <t t-call="website_blog.blog_cover">
                    <t t-set="cover_properties" t-value="properties"/>
                    <t t-set="additionnal_classes" t-value="'loading_container thumb'"/>
                </t>
            </a>
            <div class="media-body ml-3 pb-2">
                <h4 t-field="p.name"/>
                <p t-field="p.subtitle"/>
                <a class="btn btn-sm btn-secondary" t-attf-href="/blog/#{p.blog_id.id}/post/#{p.id}">Read More</a>
            </div>
        </div>
    </t>
</template>

<template id="s_latest_posts_big_picture_template">
    <t t-foreach="posts" t-as="p">
        <t t-set="properties" t-value="json.loads(p.cover_properties)"/>
        <div class="col-12 col-md-6 my-3 loading_container s_latest_posts_post">
            <t t-call="website_blog.blog_cover">
                <t t-set="cover_properties" t-value="properties"/>
                <t t-set="additionnal_classes" t-value="'thumb'"/>
            </t>
            <div>
                <h2 t-field="p.name"/>
                <p t-field="p.subtitle"/>
                <a t-attf-href="/blog/#{p.blog_id.id}/post/#{p.id}">Read More</a>
            </div>
        </div>
    </t>
</template>

</odoo>

<?xml version="1.0" encoding="utf-8"?>
<odoo>


<!-- ======   Template: Blogs Navbar   =========================================
============================================================================ -->
<template id="website_blog.blogs_nav" name="Blogs Bar Template">
    <nav t-attf-class="navbar navbar-expand-sm navbar-light #{additionnal_classes if additionnal_classes else ''}">
        <div class="container">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <span class="nav-link disabled pl-0">Blogs:</span>
                </li>
                <li t-if="len(blogs) > 1" class="nav-item">
                    <a href="/blog" t-attf-class="nav-link #{(not blog) and 'active' or ''}">
                        <b>All</b>
                    </a>
                </li>
                <li class="nav-item" t-foreach="blogs" t-as="nav_blog">
                    <a t-attf-href="#{blog_url(blog=nav_blog, tag=False, date_begin=False, date_end=False)}"
                       t-attf-class="nav-link #{(blog and nav_blog.id == blog.id) and 'active' or ''}">
                        <b t-field="nav_blog.name"/>
                    </a>
                </li>
            </ul>
        </div>
    </nav>
</template>

<!-- ======   Template: Posts list    ==========================================
◉  Option: Show Author
◉  Option: Show Covers
◉  Option: Show Share links
◉  Option: Show Statistics
◉  Option: Show Teaser & Tags
============================================================================ -->
<template id="website_blog.posts_list" name="Posts List">
    <div id="o_wblog_blog_posts" t-att-class="'o_wblog_list_view' if opt_blog_list_view else ''">

        <t t-set="opt_posts_list_show_share" t-value="False"/>

        <!-- Allow to filter post by published state. Visible only in edit-mode
             end if both published/unpublished number is > 0 -->
        <t t-if="state_info" t-set="state" t-value="state_info['state']"/>
        <div groups="website.group_website_designer"
             t-if="state_info and (state_info['published'] > 0 and state_info['unpublished'] > 0)">
            <div class="bg-200 py-2 alert alert-dismissable">
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">&#215;</button>
                <span class="mr-1">Filter by:</span>

                <div class="btn-group btn-group-sm">
                    <a t-attf-class="btn #{state == 'published' and 'btn-primary' or 'btn-default bg-white border'}"
                       t-attf-href="#{state == 'published' and blog_url(state='') or blog_url(state='published')}">
                        <i class="fa fa-eye mr-1"/>Published (<b t-esc="state_info['published']" />)
                    </a>
                    <a t-attf-class="btn #{state == 'unpublished' and 'btn-primary' or 'btn-default bg-white border'}"
                       t-attf-href="#{state == 'unpublished' and blog_url(state='') or blog_url(state='unpublished')}">
                        <i class="fa fa-edit mr-1"/>Unpublished (<b t-esc="state_info['unpublished']" />)
                    </a>
                </div>
                <small class="pt-1 font-italic">This box will not be visible to your visitors</small>
            </div>
        </div>

        <div t-if="not blog_posts" class="col">
            <h2>No blog post yet.</h2>
            <div class="alert alert-info" groups="website.group_website_designer">
                Click on "<b>New</b>" in the top-right corner to write your first blog post.
            </div>
        </div>

        <div class="row mx-n2">
            <!-- Define post's classes according to the enabled options -->
            <t t-if="has_sidebar and not opt_blog_list_view" t-set="post_size" t-value="'col-md-6 col-xl-4'"/>
            <t t-elif="not has_sidebar and not opt_blog_list_view" t-set="post_size" t-value="'col-sm-6 col-lg-4 col-xl-3'"/>

            <!-- Loop through posts: exlude first post if already shown as top
                 banner, adapt grid if sidebar is active -->
            <div t-foreach="blog_posts" t-as="blog_post"
                 t-if="not (blog_post_index == 0 and posts_list_exclude_first)"
                 t-attf-class="pb-4 px-2 col-12 #{post_size}">

                <article t-attf-class="o_wblog_posts_list_post position-relative #{'card h-100' if opt_blog_cards_design else ''}" name="blog_post">
                    <div t-attf-class="o_wblog_posts_list_post_body #{'card-body' if opt_blog_cards_design else 'pt-2'}">
                        <a t-attf-href="/blog/#{slug(blog_post.blog_id)}/post/#{slug(blog_post)}"
                           t-field="blog_post.name"
                           t-attf-class="my-0 d-block o_blog_post_title #{'h4' if opt_blog_list_view else 'h6'}">Untitled Post</a>

                        <div t-if="not opt_posts_list_show_cover and opt_posts_list_show_author" class="text-muted small mt-2">
                            by <span t-field="blog_post.author_id"/>
                        </div>
                    </div>

                    <div t-attf-class="o_wblog_posts_list_post_footer #{'card-footer' if opt_blog_cards_design else 'py-2'}">
                        <div class="o_wblog_posts_list_post_footer_info d-flex align-items-center flex-wrap mb-1 w-100">
                            <div class="d-flex flex-grow-1 justify-content-between small flex-wrap">
                                <t t-if="opt_posts_list_show_post_stats">
                                    <b t-field="blog_post.post_date" class="text-nowrap pr-2" t-options='{"format": "MMM d, yyyy"}'/>
                                    <b class="text-nowrap pl-2"><i class="fa fa-comment text-muted mr-1"/><t t-esc="len(blog_post.message_ids)"/></b>
                                    <b class="text-nowrap pl-2"><i class="fa fa-binoculars text-muted mr-1"/><t t-esc="blog_post.visits"/></b>
                                </t>
                                <b t-else="" t-field="blog_post.post_date" t-options='{"format": "MMMM d, yyyy"}'/>
                                <b t-if="posts_list_show_parent_blog" t-attf-class="text-nowrap  text-truncate #{'pl-4' if opt_blog_list_view else 'pl-2'}">
                                    <i class="fa fa-folder-open text-muted"/>
                                    <a t-attf-href="#{blog_url(blog=blog_post.blog_id)}" t-field="blog_post.blog_id"/>
                                </b>
                                <div t-if="opt_posts_list_show_share" t-att-class="'w-100 pt-1' if (not opt_blog_list_view and posts_list_show_parent_blog) else 'flex-grow-1'">
                                    <t t-call="website_blog.social_links_list">
                                        <t t-set="additionnal_classes">text-right</t>
                                    </t>
                                </div>
                            </div>
                        </div>
                    </div>
                    <span t-if="not blog_post.website_published" class="bg-danger small py-1 px-2 position-absolute" style="top:0; right:0">unpublished</span>
                </article>
            </div>
        </div>
    </div>
</template>

<!--   ◉  Option: Posts List: Show Covers ^^^^^^^^   -->
<template id="opt_posts_list_show_cover" name="Cover" inherit_id="website_blog.posts_list" active="True" customize_show="True">
    <xpath expr="//div/div" position="before">
        <t t-set="opt_posts_list_show_cover" t-value="true"/>
    </xpath>
    <xpath expr="//article/div" position="before">
        <a t-attf-href="/blog/#{slug(blog_post.blog_id)}/post/#{slug(blog_post)}"
           t-attf-class="text-decoration-none overflow-hidden d-block #{'card-img-top' if opt_blog_cards_design else ''}"
           t-att-style="'opacity:0.6;' if not blog_post.website_published else ''">

            <t t-call="website_blog.blog_cover">
                <t t-set="cover_properties" t-value="blog_posts_cover_properties[blog_post_index]"/>
                <t t-set="additionnal_classes" t-value="'cover' + (' rounded-sm' if not opt_blog_cards_design else '' )"/>

                <t t-if="opt_posts_list_show_author" t-call="website_blog.post_author">
                    <t t-set="additionnal_classes" t-value="'o_wblog_post_list_author text-white px-2 pb-2 pt-3 w-100'"/>
                    <t t-set="hide_date" t-value="True"/>
                </t>
            </t>
        </a>
    </xpath>
</template>

<!--   ◉  Option: Posts List: Show Share Links ^^^^^^^^   -->
<template id="opt_posts_list_show_share" name="Share links" inherit_id="website_blog.posts_list" active="False" customize_show="True">
    <xpath expr="//t[@t-set='opt_posts_list_show_share']" position="replace">
        <t t-set="opt_posts_list_show_share" t-value="True"/>
    </xpath>
</template>

<!--   ◉  Option: Posts List: Show Author ^^^^^^^^   -->
<template id="opt_posts_list_show_author" name="Author" inherit_id="website_blog.posts_list" active="True" customize_show="True">
    <xpath expr="//div/div" position="before">
        <t t-set="opt_posts_list_show_author" t-value="true"/>
    </xpath>
</template>

<!--   ◉  Option: Posts List: Show Post Stats ^^^^^^^^   -->
<template id="opt_posts_list_show_post_stats" name="Comments/Views stats" inherit_id="website_blog.posts_list" active="False" customize_show="True">
    <xpath expr="//div/div" position="before">
        <t t-set="opt_posts_list_show_post_stats" t-value="true"/>
    </xpath>
</template>

<!--   ◉  Option: Posts List: Show Post Teaser ^^^^^^^^  -->
<template id="opt_posts_list_show_post_teaser" name="Teaser &amp; Tags" inherit_id="website_blog.posts_list" active="True" customize_show="True">
    <xpath expr="//article//a[@t-field='blog_post.name']" position="after">
        <div t-field="blog_post.teaser" class="o_blog_post_teaser mt-2"/>
        <!-- Tags -->
        <div t-if="len(blog_post.tag_ids)" class="o_wblog_post_short_tag_section d-flex align-items-center flex-wrap pt-2">
            <t t-foreach="blog_post.tag_ids" t-as="one_tag">
                <a class="badge badge-primary mr-1" t-attf-href="#{blog_url(tag=one_tag.id, date_begin=False, date_end=False)}" t-esc="one_tag.name"/>
            </t>
        </div>
    </xpath>
</template>


<!-- ====== Template: Sidebar Blogs Index (All Blogs page)  ====================
============================================================================ -->
<template id="website_blog.sidebar_blog_index" name="Sidebar - All Blogs">
    <div id="o_wblog_sidebar">
        <div class="oe_structure"/>
        <h6 class="text-uppercase font-weight-bold mt-0">Archives</h6>
    </div>
</template>

<!--   ◉  Option: Sidebar Blog Index: Show About Us ^^^^^^^^  -->
<template id="opt_sidebar_blog_index_about" name="About us" priority="1" inherit_id="website_blog.sidebar_blog_index" active="True" customize_show="True">
    <xpath expr="//div[@id='o_wblog_sidebar']" position="inside">
        <t t-call="website_blog.about_us"/>
        <div class="oe_structure"/>
    </xpath>
</template>

<!--   ◉  Option: Sidebar Blog Index: Follow Us ^^^^^^^^  -->
<template id="opt_sidebar_blog_index_follow_us" name="Follow us" priority="2" inherit_id="website_blog.sidebar_blog_index" active="True" customize_show="True">
    <xpath expr="//div[@id='o_wblog_sidebar']" position="inside">
        <t t-call="website_blog.follow_us"/>
        <div class="oe_structure"/>
    </xpath>
</template>



<!-- ======   Template: Sidebar Blog Single  ===================================
============================================================================ -->
<template id="website_blog.sidebar_blog_single" name="Sidebar - Blog page">
    <div id="o_wblog_sidebar"/>
</template>

<!--   ◉  Option: Sidebar Blog Single: Show About Us ^^^^^^^^  -->
<template id="opt_sidebar_blog_single_about" name="About Us" priority="1" inherit_id="website_blog.sidebar_blog_single" active="True" customize_show="True">
    <xpath expr="//div[@id='o_wblog_sidebar']" position="inside">
        <t t-call="website_blog.about_us"/>
    </xpath>
</template>

<!--   ◉  Option: Sidebar Blog Single: Archives ^^^^^^^^  -->
<template id="opt_sidebar_blog_single_archives" name="Archives" priority="2" inherit_id="website_blog.sidebar_blog_single" active="True" customize_show="True">

    <xpath expr="//div[@id='o_wblog_sidebar']" position="inside">
        <div class="o_wblog_sidebar_block o_wblog_sidebar_block_archives mb-4">
            <h6 class="text-uppercase font-weight-bold mt-0">Archives</h6>

            <select name="archive" oninput="location = this.value;" class="custom-select">
                <option t-attf-value="#{blog_url(date_begin=False, date_end=False)}">-- All posts</option>

                <optgroup t-foreach="nav_list" t-as="year" t-attf-label="#{year}">
                    <option t-foreach="nav_list[year]" t-as="months"
                            t-att="[('selected' if date and (months['date_begin'] == date) else 'unselected' ) , 'true' ]"
                            t-attf-value="#{blog_url(date_begin=months['date_begin'], date_end=months['date_end'])}">
                        <t t-esc="months['month']"/> <t t-esc="year"/>
                    </option>
                </optgroup>
            </select>
        </div>
    </xpath>
</template>

<!--   ◉  Option: Sidebar Blog Single: Show tags ^^^^^^^^  -->
<template id="opt_sidebar_blog_single_tags" name="Tags list" priority="3" inherit_id="website_blog.sidebar_blog_single" active="True" customize_show="True">
    <xpath expr="//div[@id='o_wblog_sidebar']" position="inside">

        <!-- TO FIX: This template works if a single blog is provided only -->
        <!-- ==============================================================-->
        <div t-if="other_tags or tag_category" class="o_wblog_sidebar_block o_wblog_sidebar_block_tags mb-4">
            <h6 class="text-uppercase font-weight-bold mt-0">Tags</h6>
            <t t-foreach="tag_category" t-as="nav_tag_category">
                <t t-call="website_blog.tag_category">
                    <t t-set='categ_title' t-value="nav_tag_category.name"/>
                    <t t-set='tags' t-value='nav_tag_category.tag_ids' />
                </t>
            </t>
            <t t-call="website_blog.tag_category">
                <t t-set='hide_title' t-value='not len(tag_category)' />
                <t t-set='categ_title'>Others</t>
                <t t-set='tags' t-value='other_tags'/>
            </t>
        </div>

        <div t-else="" groups="website.group_website_designer" class="o_wblog_sidebar_block o_wblog_sidebar_block_tags mb-4">
            <h6 class="text-uppercase font-weight-bold mt-0">Tags</h6>
            <em class="text-muted">No tags defined yet.</em>
        </div>
    </xpath>
</template>

<!--   ◉  Option: Sidebar Blog Single: Follow Us ^^^^^^^^  -->
<template id="opt_sidebar_blog_single_follow_us" name="Follow Us" priority="12" inherit_id="website_blog.sidebar_blog_single" active="True" customize_show="True">
    <xpath expr="//div[@id='o_wblog_sidebar']" position="inside">
        <t t-call="website_blog.follow_us"/>
    </xpath>
</template>


<!-- ======   Template: List Tags in inline list    ============================
============================================================================ -->
<template id="tag_category" name="Tags List">
    <t t-if="tags">
        <div t-if='not hide_title' class='text-muted mt8'><i class='fa fa-tag' role="img" aria-label="Tag category" title="Tag category"/> <t t-esc='categ_title' /></div>
        <t t-foreach="tags" t-as="tag">
            <t t-if="tag.post_ids">
                <a t-attf-href="#{blog_url(tag=tags_list(active_tag_ids, tag.id))}"
                    t-attf-class="badge #{tag.id in active_tag_ids and 'badge-primary' or 'badge-secondary'}">
                    <span t-field="tag.name"/>
                </a>
            </t>
        </t>
    </t>
</template>

<!-- ======   Template: About Us   =============================================
============================================================================ -->
<template id="website_blog.about_us">
    <div class="o_wblog_sidebar_block o_wblog_sidebar_block_about mb-4">
        <h6 class="text-uppercase font-weight-bold mt-0">About us</h6>
        <div>
            <p>Write a small text here for when <b>new visitors</b> find your website
                through your <b>blog entries</b>, referenced in Google.</p>
        </div>
    </div>
</template>

<!-- ======   Template: Follow Us   ============================================
============================================================================ -->
<template id="website_blog.follow_us">
    <div class="o_wblog_sidebar_block o_wblog_sidebar_block_follow mb-4">
        <h6 class="text-uppercase font-weight-bold mt-0">Stay updated</h6>
        <div>
            <div>
                <a t-if="website.social_facebook" t-att-href="website.social_facebook" class="fa mx-2 mb-2 fa-facebook-square text-facebook" aria-label="Facebook" title="Facebook"/>
                <a t-if="website.social_twitter" t-att-href="website.social_twitter" class="fa mx-2 mb-2 fa-twitter text-twitter" aria-label="Twitter" title="Twitter"/>
                <a t-if="website.social_linkedin" t-att-href="website.social_linkedin" class="fa mx-2 mb-2 fa-linkedin text-linkedin" aria-label="LinkedIn" title="LinkedIn"/>
                <a t-if="website.social_youtube" t-att-href="website.social_youtube" class="fa mx-2 mb-2 fa-youtube-play text-youtube" aria-label="Youtube" title="Youtube"/>
                <a t-if="website.social_googleplus" t-att-href="website.social_googleplus" class="fa mx-2 mb-2 fa-google-plus-square text-google-plus" aria-label="Google Plus" title="Google Plus"/>
                <a t-if="website.social_github" t-att-href="website.social_github" class="fa mx-2 mb-2 fa-github text-github" aria-label="Github" title="Github"/>
                <a t-if="website.social_instagram" t-att-href="website.social_instagram" class="fa mx-2 mb-2 fa-instagram text-instagram" aria-label="Instagram" title="Instagram"/>
                <a t-if="blog" t-att-href="'/blog/%s/feed' % (blog.id)" class="fa mx-2 mb-2 fa-rss-square" aria-label="RSS" title="RSS"/>
            </div>
            <t t-call="website_mail.follow" t-if="blog">
                <t t-set="email" t-value="user_id.email"/>
                <t t-set="object" t-value="blog"/>
                <t t-set="div_class" t-value="'pt-2'"/>
            </t>
        </div>
    </div>
</template>

<!-- ======   Template: COVER   ================================================
============================================================================ -->
<template id="blog_cover">
    <div t-attf-class="o_blog_cover_container overflow-hidden #{use_size and cover_properties.get('resize_class') or ''} #{additionnal_classes or ''}">
        <div class="o_wblog_cover_wrapper h-100 w-100">
            <div class="o_blog_cover_component o_blog_cover_image" t-attf-style="background-image: #{cover_properties.get('background-image')};"/>
            <div t-if="use_filters" t-attf-class="o_blog_cover_component o_blog_cover_filter #{cover_properties.get('background-color')}" t-attf-style="opacity: #{cover_properties.get('opacity', 0.0)};"/>
            <t t-raw="0"/>
        </div>
    </div>
</template>

<!-- ======   Template: Social links list   ====================================
============================================================================ -->
<template id="website_blog.social_links_list">
    <div t-attf-class="#{additionnal_classes or ''}">
        <a href="#" class="fa fa-twitter-square text-twitter o_twitter" aria-label="Twitter" title="Share on Twitter"/>
        <a href="#" class="fa fa-facebook-square text-facebook o_facebook" aria-label="Facebook" title="Share on Facebook"/>
        <a href="#" class="fa fa-linkedin-square text-linkedin o_linkedin" aria-label="LinkedIn" title="Share on LinkedIn"/>
        <a href="#" class="fa fa-google-plus-square text-google-plus o_google" aria-label="Google Plus" title="Share on Google Plus"/>
    </div>
</template>

<!-- ======   Template: Post Author   ==========================================
============================================================================ -->
<template id="website_blog.post_author">
    <div t-attf-class="position-relative d-flex align-items-center o_not_editable #{additionnal_classes or ''}">
        <div t-if="blog_post.author_avatar" t-field="blog_post.author_avatar" t-options='{"widget": "image", "class": "rounded-circle mr-2 o_author_avatar_little"}' />
        <div class="small font-weight-bold" style="line-height:1">
            <span t-field="blog_post.author_id" t-options='{ "widget": "contact", "fields": ["name"]}'/>
            <small t-if="not hide_date" t-field="blog_post.post_date" t-options='{"format": "d MMMM, yyyy"}'/>
        </div>
    </div>
</template>




<!-- Option: Blog Post List: cover image -->
<!-- <template id="opt_blog_post_cover_image" name="Cover image"
        customize_show="True" active="True" inherit_id="website_blog.blog_post_short">
    <xpath expr="//div[@name='blog_post']/div[hasclass('card-body')]" position="before">
        <t t-call="website_blog.blog_cover">
            <t t-set="cover_properties" t-value="blog_posts_cover_properties[blog_post_index]"/>
            <t t-set="additionnal_classes" t-value="'o_list_cover card-img-top'"/>
        </t>
    </xpath>
</template> -->

<!-- Option: Blog Post List: grid layout -->
<!-- <template id="opt_blog_post_grid_layout" name="Grid view"
        customize_show="True" active="False" inherit_id="website_blog.blog_post_short">
    <xpath expr="//t[@t-foreach='blog_posts']" position="replace">
        <div class="row">
            <t>$0</t>
        </div>
    </xpath>
    <xpath expr="//div[@name='blog_post']" position="attributes">
        <attribute name="class" add="h-100" remove="mb-3" separator=" "/>
    </xpath>
    <xpath expr="//div[@name='blog_post']" position="replace">
        <div class="col-md-6 mb-3">
            <t>$0</t>
        </div>
    </xpath>
    <xpath expr="//div[hasclass('o_wblog_post_short_tag_section')]" position="before">
        <div class="w-100"/>
    </xpath>
</template> -->

<!-- Option: Blog Post List: display the author avatar -->
<!-- <template id="opt_blog_post_author_avatar" name="Author avatar"
        customize_show="True" active="False" inherit_id="website_blog.blog_post_short">
    <xpath expr="//span[@t-field='blog_post.author_id']/.." position="before">
        <div t-if="blog_post.author_avatar" class="col-auto">
            <div t-field="blog_post.author_avatar" class="o_not_editable" style="display:inline" t-options='{"widget": "image", "class": "rounded-circle o_author_avatar_little "}' />
        </div>
    </xpath>
</template> -->

<!-- Options: Blog Post: breadcrumb -->
<!-- <template id="blog_breadcrumb" name="Breadcrumb"
        inherit_id="website_blog.blog_post_complete" active="False" customize_show="True">
    <xpath expr="//div[@id='title']" position="before">
        <div class="container">
          <div class="row">
            <div class="col-md-9">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a t-attf-href="#{blog_url(tag=None, date_begin=None, date_end=None)}"><span t-field="blog.name"/></a></li>
                    <li t-if="tag" class="breadcrumb-item"><a t-attf-href="#{blog_url(date_begin=None, date_end=None)}"><span t-field="tag.name"/></a></li>
                    <li t-if="date" class="breadcrumb-item"><a t-attf-href="#{blog_url(tag=None)}" t-esc="date"/></li>
                    <li class="breadcrumb-item active"><span t-field="blog_post.name"/></li>
                </ol>
            </div><div class="col-md-3">
            </div>
          </div>
        </div>
    </xpath>
</template> -->

<!-- Options: Blog Post: user can reply -->
<!-- <template id="opt_blog_post_complete_comment" name="Allow blog post comment" inherit_id="website_blog.blog_post_complete" active="False" customize_show="True">
    <xpath expr="//div[hasclass('o_blog_post_complete','o_sharing_links')]" position="after">
        <section id="comments" class="read_width">
            <t t-call="portal.message_thread">
              <t t-set="object" t-value="blog_post"/>
            </t>
        </section>
    </xpath>
</template> -->

<!-- Options: Blog Post : Read Next Article  -->
<!-- <template id="opt_blog_post_complete_read_next" name="Read next article"
        inherit_id="website_blog.blog_post_complete" active="True" customize_show="True">
    <xpath expr="//div[@id='comments']|//div[hasclass('o_blog_post_complete','o_sharing_links')]" position="after">
        <t t-if="next_post">
            <t t-call="website_blog.blog_cover">
                <t t-set="cover_properties" t-value="next_post_cover_properties"/>
                <t t-set="additionnal_classes" t-value="'cover_footer'"/>

                <div class="blog_title">
                    <a class="d-none js_next" t-attf-href="/blog/#{ slug(next_post.blog_id) }/post/#{ slug(next_post) }/#wrap"/>
                    <h1 t-field="next_post.name" placeholder="Blog Post Title"/>
                    <h2 t-field="next_post.subtitle" placeholder="Subtitle"/>
                    <div>
                        <t t-if="next_post.author_avatar">
                            <span t-field="next_post.author_avatar" t-options='{"widget": "image", "class": "rounded-circle", "style":"width: 30px; margin-right: 10px; display:inline"}' />
                        </t>
                        <span t-field="next_post.author_id" style="display: inline-block;" t-options='{
                            "widget": "contact",
                            "fields": ["name"]
                        }'/>
                    </div>
                    <p class="mt32">Read Next <span class="fa fa-long-arrow-right"/></p>
                </div>
            </t>
        </t>
    </xpath>
</template> -->

<!-- Options: Blog Post: display the author avatar -->
<!-- <template id="opt_blog_post_author_avatar_display" name="Author Avatar"
        inherit_id="website_blog.blog_post_complete" active="False" customize_show="True">
    <xpath expr="//p[@name='blog_post_data']" position="after">
        <div>
            <t t-if="blog_post.author_avatar">
                <span t-field="blog_post.author_avatar" class="o_not_editable" t-options='{"widget": "image", "class": "rounded-circle", "style":"width: 30px; margin-right: 10px; display:inline"}' />
            </t>
            <span t-field="blog_post.author_id" style="display: inline-block;" t-options='{
                "widget": "contact",
                "fields": ["name"]
            }'/>
        </div>
    </xpath>
</template> -->

<!-- <template id="opt_blog_post_select_to_tweet" name="Select to Tweet"
        inherit_id="website_blog.blog_post_complete" active="False" customize_show="True">
    <xpath expr="//div[@id='blog_content']" position="attributes">
        <attribute name="class" add="js_tweet" separator=" "/>
    </xpath>
    <xpath expr="//div[@id='title']//div[hasclass('blog_title')]" position="attributes">
        <attribute name="class" add="js_tweet" separator=" "/>
    </xpath>
</template> -->

<!-- <template id="opt_blog_post_select_to_comment" name="Select to comment"
        inherit_id="website_blog.opt_blog_post_complete_comment" customize_show="False">
    <xpath expr="//div[@id='blog_content']" position="attributes">
        <attribute name="class" add="js_comment" separator=" "/>
    </xpath>
    <xpath expr="//div[@id='title']//div[hasclass('blog_title')]" position="attributes">
        <attribute name="class" add="js_comment" separator=" "/>
    </xpath>
</template> -->


<!-- Option:Right Column for extra info -->

<!-- <template id="index_right" name="Right Column"
        inherit_id="website_blog.blog_post_short">
    <xpath expr="//div[@id='main_column']" position="after">
        <div class="col-xl-3 col-lg-4" id="blog_right_column"/>
    </xpath>
</template> -->

<!-- Option:Right Column: tags -->


<!-- <template id="opt_blog_rc_tags" name="Tags"
        inherit_id="website_blog.index_right" active="True" customize_show="True">
    <xpath expr="//div[@id='main_column']" position="attributes">
        <attribute name="class">col</attribute>
    </xpath>
    <xpath expr="//div[@id='blog_right_column']" position="inside">
        <div class="card mb-3 bg-secondary">
            <h6 class="card-header">Tags</h6>
            <div class="card-body">
                <t t-foreach="tag_category" t-as="nav_tag_category">
                    <t t-call="website_blog.tag_category">
                        <t t-set='categ_title' t-value="nav_tag_category.name"/>
                        <t t-set='tags' t-value='nav_tag_category.tag_ids' />
                    </t>
                </t>
                <t t-call="website_blog.tag_category">
                    <t t-set='hide_title' t-value='not len(tag_category)' />
                    <t t-set='categ_title'>Others</t>
                    <t t-set='tags' t-value='other_tags' />
                </t>
            </div>
        </div>
    </xpath>
</template> -->

<!-- Option:Right Column: archives -->
<!-- <template id="opt_blog_rc_history" name="Archives"
        inherit_id="website_blog.index_right" active="True" customize_show="True">
    <xpath expr="//div[@id='main_column']" position="attributes">
        <attribute name="class">col</attribute>
    </xpath>
    <xpath expr="//div[@id='blog_right_column']" position="inside">
        <div class="card mb-3 bg-secondary">
            <h6 class="card-header">Archives</h6>
            <div class="card-body">
                <ul class="nav nav-pills flex-column">
                    <t t-foreach="nav_list" t-as="year">
                        <li data-toggle="collapse" t-att-data-target="'#b_' + year" aria-expanded="false" class="nav-item blog_post_year_collapse mt8">
                            <i t-attf-class="fa #{'fa-chevron-down' if not date and year_index == 0 else 'fa-chevron-right'} mr4" role="img" aria-label="Next year" title="Next year"/><span t-esc="year"/>
                        </li>
                        <ul t-attf-class="blog_post_year collapse nav nav-pills flex-column #{not date and year_index == 0 and 'in'}" t-att-id="'b_' + year" role="menu">
                            <t t-foreach="nav_list[year]" t-as="months">
                                <li t-if="months['date_begin'] == date" class="nav-item">
                                    <a role="menuitem" t-ignore="True" t-attf-href="#{blog_url(date_begin=False, date_end=False)}" class="nav-link active"><t t-esc="months['month']"/><span class="float-right badge badge-pill" t-esc="months['post_date_count']"/></a>
                                </li>
                                <li t-else="1" class="nav-item">
                                    <a role="menuitem" t-ignore="True" t-attf-href="#{blog_url(date_begin=months['date_begin'], date_end=months['date_end'])}" class="nav-link"><t t-esc="months['month']"/><span class="float-right badge badge-pill" t-esc="months['post_date_count']"/></a>
                                </li>
                            </t>
                        </ul>
                    </t>
                </ul>
            </div>
        </div>
    </xpath>
</template> -->



<!-- Option:Right Column: blogs -->
<!-- <template id="opt_blog_rc_blogs" name="Our Blogs" priority="4"
        inherit_id="website_blog.index_right" active="True" customize_show="True">
    <xpath expr="//div[@id='main_column']" position="attributes">
        <attribute name="class">col</attribute>
    </xpath>
    <xpath expr="//div[@id='blog_right_column']" position="inside">
        <div class="mb-3">
            <h3 class="h4">Our Blogs</h3>
            <ul class="nav nav-pills flex-column">
                <t t-foreach="blogs" t-as="nav_blog">
                    <li class="nav-item">
                        <a t-attf-href="#{blog_url(blog=nav_blog, tag=False, date_begin=False, date_end=False)}"
                            t-attf-class="nav-link #{nav_blog.id == blog.id and 'active' or ''}">
                            <span t-field="nav_blog.name"/>
                        </a>
                    </li>
                </t>
            </ul>
        </div>
    </xpath>
</template> -->

<!-- User Navbar -->
<template id="user_navbar_inherit_website_blog" inherit_id="website.user_navbar">
    <xpath expr="//div[@id='o_new_content_menu_choices']//div[@name='module_website_blog']" position="attributes">
        <attribute name="name"/>
        <attribute name="t-att-data-module-id"/>
        <attribute name="t-att-data-module-shortdesc"/>
        <attribute name="groups">website.group_website_designer</attribute>
    </xpath>
</template>

<!-- Atom Feed -->
<template id="blog_feed">&lt;?xml version="1.0" encoding="utf-8"?&gt;
<feed t-att-xmlns="'http://www.w3.org/2005/Atom'">
    <title t-esc="blog.name"/>
    <link t-att-href="'%s/blog/%s' % (base_url ,blog.id)"/>
    <id t-esc="'%s/blog/%s' % (base_url, blog.id)"/>
    <updated t-esc="str((posts[0] if posts else blog).post_date).replace(' ', 'T') + 'Z'"/>
    <entry t-foreach="posts" t-as="post">
        <title t-esc="post.name"/>
        <link t-att-href="'%s%s' % (base_url, post.website_url)"/>
        <id t-esc="'%s%s' % (base_url, post.website_url)"/>
        <author><name t-esc="post.sudo().author_id.name"/></author>
        <summary t-esc="html2plaintext(post.teaser)"/>
        <updated t-esc="str(post.post_date).replace(' ', 'T') + 'Z'"/>
    </entry>
</feed>
</template>

<!-- Chatter templates -->
<template id="blog_post_template_new_post">
    <p>A new post <t t-esc="post.name" /> has been published on the <t t-esc="object.name" /> blog. Click here to access the blog :</p>
    <p style="margin-left: 30px; margin-top: 10 px; margin-bottom: 10px;">
        <a href="/blog/#{slug(object)}/post/#{slug(post)}"
            style="padding: 5px 10px; font-size: 12px; line-height: 18px; color: #FFFFFF; border-color:#875A7B; text-decoration: none; display: inline-block; margin-bottom: 0px; font-weight: 400; text-align: center; vertical-align: middle; cursor: pointer;background-color: #875A7B; border: 1px solid #875A7B; border-radius:3px">
            Access post
        </a>
    </p>
</template>

<template id="s_latest_posts" name="Latest Posts - List">
    <section class="s_latest_posts">
        <div class="container">
            <h2 class="text-center">Latest Posts</h2>
            <div class="row js_get_posts"
                data-loading="true"
                data-template="website_blog.s_latest_posts_list_template"/>
        </div>
    </section>
</template>

<template id="s_latest_posts_big_picture" name="Latest Posts - Big Images">
    <section class="s_latest_posts_big_picture">
        <div class="container-fluid">
            <h2 class="text-center">Latest Posts</h2>
            <div class="row js_get_posts"
                data-loading="true"
                data-template="website_blog.s_latest_posts_big_picture_template"/>
        </div>
    </section>
</template>

<template id="s_latest_posts_list_template">
    <t t-foreach="posts" t-as="p">
        <t t-set="properties" t-value="json.loads(p.cover_properties)"/>
        <div class="col-12 media mt-3 s_latest_posts_post">
            <a t-attf-href="/blog/#{p.blog_id.id}/post/#{p.id}">
                <t t-call="website_blog.blog_cover">
                    <t t-set="cover_properties" t-value="properties"/>
                    <t t-set="additionnal_classes" t-value="'loading_container thumb'"/>
                </t>
            </a>
            <div class="media-body ml-3 pb-2">
                <h4 t-field="p.name"/>
                <p t-field="p.subtitle"/>
                <a class="btn btn-sm btn-secondary" t-attf-href="/blog/#{p.blog_id.id}/post/#{p.id}">Read More</a>
            </div>
        </div>
    </t>
</template>

<template id="s_latest_posts_big_picture_template">
    <t t-foreach="posts" t-as="p">
        <t t-set="properties" t-value="json.loads(p.cover_properties)"/>
        <div class="col-12 col-md-6 my-3 loading_container s_latest_posts_post">
            <t t-call="website_blog.blog_cover">
                <t t-set="cover_properties" t-value="properties"/>
                <t t-set="additionnal_classes" t-value="'thumb'"/>
            </t>
            <div>
                <h2 t-field="p.name"/>
                <p t-field="p.subtitle"/>
                <a t-attf-href="/blog/#{p.blog_id.id}/post/#{p.id}">Read More</a>
            </div>
        </div>
    </t>
</template>

</odoo>

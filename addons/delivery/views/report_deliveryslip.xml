<odoo>
    <template id="report_delivery_document2" inherit_id="stock.report_delivery_document">
        <xpath expr="//th[@name='td_sched_date_h']" position="after">
            <th t-if="o.picking_type_id.code == 'outgoing' and o.carrier_id"><strong>Carrier</strong></th>
            <th t-if="o.weight"><strong>Weight</strong></th>
            <th t-if="o.shipping_weight"><strong>Shipping Weight</strong></th>
            <th t-if="o.carrier_tracking_ref"><strong>Tracking Number</strong></th>
        </xpath>
        <xpath expr="//td[@name='td_sched_date']" position="after">
            <td t-if="o.picking_type_id.code == 'outgoing' and o.carrier_id">
                    <span t-field="o.carrier_id"/>
            </td>
            <td t-if="o.weight">
                <span t-field="o.weight"/>
                <span t-field="o.weight_uom_name"/>
            </td>
            <td t-if="o.shipping_weight">
                <span t-field="o.shipping_weight"/>
                <span t-field="o.weight_uom_name"/>
            </td>
            <td t-if="o.carrier_tracking_ref">
                <span t-field="o.carrier_tracking_ref"/>
            </td>
        </xpath>

        <xpath expr="//table[@name='stock_move_table']/thead/tr" position="inside">
            <t t-set="has_hs_code" t-value="o.move_lines.filtered(lambda l: l.product_id.hs_code)"/>
            <th t-if="has_hs_code"><strong>HS code</strong></th>
        </xpath>

        <xpath expr="//table[@name='stock_move_table']/tbody/tr" position="inside">
            <td t-if="has_hs_code"><span t-field="move.product_id.hs_code"/></td>
        </xpath>

        <xpath expr="//table[@name='stock_move_line_table']/thead/tr" position="inside">
            <th t-if="has_hs_code"><strong>HS code</strong></th>
        </xpath>
        <xpath expr="//table[@name='stock_move_line_table']/tbody/tr" position="inside">
            <td t-if="has_hs_code"><span t-field="move_line.product_id.hs_code"/></td>
        </xpath>

    </template>
</odoo>
